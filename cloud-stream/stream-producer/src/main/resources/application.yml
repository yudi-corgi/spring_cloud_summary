server:
  port: 8090

spring:
  application:
    name: stream-producer
  rabbitmq:
    addresses: 116.205.181.47
    username: admin
    password: admin123
    port: 5672
#  integration:
#    poller:
#      cron: 1 0 0 0 0 0          # CRON 表达式
#      fixed-delay: 2             # 固定延迟
#      fixed-rate: 2              # 固定频率
#      initial-delay: 5           # 初始延迟
#      max-messages-per-poll: 1   # 每次轮询的最大消息条数
#      receive-timeout: 2         # 接收超时时间
  cloud:
    stream:
      # Supplier 轮询全局配置（本项目 Stream 是 3.0.4 版本）
      # 在 3.2.x 以上之后，轮询配置放在 spring.Integration，如上方注释，详看 IntegrationProperties.Poller）
      poller:
        fixed-delay: 5000
        max-messages-per-poll: 1
      # 绑定：stringConsumer-out-0 是绑定名称，out 表示它是输出（Producer），test-topic 则是交换机
      function:
        definition: stringConsumer;stringSupplier
      bindings:
        stringConsumer-out-0:
          destination: consumer-topic
        stringSupplier-out-0:
          destination: supplier-topic
          # 该轮询配置只对 stringSupplier 绑定有效
          #producer:
            # poller:
              # fixed-delay: 5000           # 发送间隔，其下 units 属性可控制时间单位
              # initial-delay: 1000         # 初始发送延迟时间，，其下 units 属性可控制时间单位
              # max-messages-per-poll: 1    # 每次轮询发送的消息条数
              # cron: 1 0 0 0 0 0           # CRON 表达式指定发送周期
